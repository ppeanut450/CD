<!DOCTYPE html>
<html lang="ko">
<head>
  <title> 로그인 </title>
  <meta charset="utf-8"> <!-- 문자 깨짐 현상 방지를 위한 인코딩 선언 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"> <!-- 브라우저 호환성-->
  <link rel="stylesheet" href="_login_page.css">
</head>
<body>
  <div class="container">
    <div class="screen">
      <div class="screen__content">
        <!-- 로그인 창 (아이디, 비밀번호, 로그인 유지 체크박스, 로그인 버튼) -->
        <form class="login">
          <!-- 아이디 -->
          <div class="login__field">
            <input type="text" id="login_id" class="login__input" placeholder="아이디"> 
          </div>
          <span class="error_message" id="login_id_error"></span>

          <!-- 비밀번호 -->
          <div class="login__field">
            <input type="password" id="login_pw" class="login__input" placeholder="비밀번호">
          </div>
          <span class="error_message" id="login_pw_error"></span>
          <span class="error_message" id="caps_lock_warning"></span>
          
          <!-- 체크박스 (클릭 시 로그인 상태 유지)-->
          <label for="checkbox">
            <input type="checkbox" id="checkbox">
            <i class="chk__btn"></i>
            <span class="text"> 로그인 상태 유지 </span>
          </label>

          <!-- 로그인 버튼 -->
          <button id="login-button" class="btn login__submit">
            <span class="btn__text"> 로그인 </span>
          </button>
        </form>
        <!-- 로그인 창 (아이디, 비밀번호, 로그인 유지 체크박스, 로그인 버튼) 끝 -->

        
        <!-- 아이디 & 비밀번호 찾기, 회원가입 글씨 버튼 -->
        <div class="find_info">
          <a class="find_idpw" href="_find_idpw.html">아이디 | 비밀번호 찾기</a>
          <a class="sign_up" href="_sign_up_page.html">회원가입</a>
        </div>
        <!-- 아이디 & 비밀번호 찾기, 회원가입 글씨 버튼 끝 -->


        <!-- 간편 로그인 -->
        <div class="social-login">
          <h5> 간편 로그인 </h5>
          <div class="social-icons">
            <!-- 네이버 로그인 버튼 -->
            <button type="button" class="naver_icon" id="naver-icon">
              <a href="https://www.naver.com/"> <!-- 링크 수정 필요 -->
                <img src="https://clova-phinf.pstatic.net/MjAxODAzMjlfOTIg/MDAxNTIyMjg3MzM3OTAy.WkiZikYhauL1hnpLWmCUBJvKjr6xnkmzP99rZPFXVwgg.mNH66A47eL0Mf8G34mPlwBFKP0nZBf2ZJn5D4Rvs8Vwg.PNG/image.png" width="60" height="60">
              </a>
            </button>
            <!-- 네이버 로그인 버튼 끝 -->

            <!-- 카카오 로그인 버튼 -->
            <button type="button" class="kakao_icon" id="kakao-icon">
              <img src="https://cdn.icon-icons.com/icons2/2429/PNG/512/kakaotalk_logo_icon_147272.png" width="60" height="60">
            </button>
            
            <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
            <script>
              Kakao.init('0560729fbda53d06035a69b6f812c484');
            
              // 카카오 로그인 버튼 클릭 시 동작할 함수
              function kakaoLogin() {
                Kakao.Auth.login({
                  success: function(authObj) {
                    // 로그인 성공 시 처리할 코드 작성
                    // 사용자 정보는 authObj에서 확인할 수 있습니다.
                  },
                  fail: function(err) {
                    // 로그인 실패 시 처리할 코드 작성
                    console.log(err);
                  }
                });
              }
            
              document.getElementById('kakao-icon').addEventListener('click', kakaoLogin);
            </script>
            <!-- 카카오 로그인 버튼 끝 -->

            <!-- 페이스북 로그인 버튼 -->
            <button type="button" class="facebook_icon" id="facebook-icon">
              <a href="https://ko-kr.facebook.com/"> <!-- 링크 수정 필요 -->
                <img src="https://blog.kakaocdn.net/dn/UGS0q/btree5Viurw/l07AH1VgWJHm4stsAHLdL0/img.png" width="60" height="60">
              </a>
            </button>
            <!-- 페이스북 로그인 버튼 끝 -->

            <!-- 구글 로그인 버튼 -->
            <button type="button" class="google_icon" id="google-icon">
              <a href="https://www.google.co.kr/"> <!-- 링크 수정 필요 -->
                <img src="https://cdn1.iconfinder.com/data/icons/google-new-logos-1/32/google_chrome_new_logo-512.png" width="70" height="70">
              </a>
            </button>
            <!-- 구글 로그인 버튼 끝 -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // 아이디와 비밀번호를 확인하는 함수
    function validateForm(event) {
      event.preventDefault();

      const loginId = document.getElementById('login_id').value;
      const loginPw = document.getElementById('login_pw').value;
      const loginIdError = document.getElementById('login_id_error');
      const loginPwError = document.getElementById('login_pw_error');

      // 아이디 유효성 검사
      if (loginId === '') {
        loginIdError.innerText = '아이디를 입력해주세요.';
        loginIdError.style.display = 'block';
      } else {
        loginIdError.style.display = 'none';
      }

      // 비밀번호 유효성 검사
      if (loginPw === '') {
        loginPwError.innerText = '비밀번호를 입력해주세요.';
        loginPwError.style.display = 'block';
      } else {
        loginPwError.style.display = 'none';
      }
    }

    // 아이디 입력 시 에러 메시지 확인하여 숨김 처리하는 함수
    function hideIdError() {
      const loginId = document.getElementById('login_id').value;
      const loginIdError = document.getElementById('login_id_error');

      if (loginId !== '') {
        loginIdError.style.display = 'none';
      }
    }

    // 비밀번호 입력 시 에러 메시지 확인하여 숨김 처리하는 함수
    function hidePasswordError() {
      const loginPw = document.getElementById('login_pw').value;
      const loginPwError = document.getElementById('login_pw_error');

      if (loginPw !== '') {
        loginPwError.style.display = 'none';
      }
    }

    // Caps Lock이 켜져 있는 경우
    function checkCapsLock(event) {
      const capsLockWarning = document.getElementById('caps_lock_warning');

      // event.getModifierState() 함수를 사용하여 Caps Lock 상태 확인
      const capsLockEnabled = event.getModifierState && event.getModifierState('CapsLock');

      if (capsLockEnabled) {
        capsLockWarning.innerText = 'Caps Lock이 켜져있습니다.';
        capsLockWarning.style.display = 'block';
      } else {
        capsLockWarning.style.display = 'none';
      }
    }

    // 이벤트 리스너 등록
    document.getElementById('login_pw').addEventListener('keydown', checkCapsLock);
    document.getElementById('login_id').addEventListener('input', hideIdError);
    document.getElementById('login_pw').addEventListener('input', hidePasswordError);
    document.querySelector('.login__submit').addEventListener('click', validateForm);
    
  </script>
</body>
</html>
